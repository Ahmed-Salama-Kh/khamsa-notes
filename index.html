<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <title>مفكرة خَمسة</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
        background: #f0f0f0;
      }
      textarea {
        width: 100%;
        height: 100px;
        margin-bottom: 10px;
      }
      button {
        padding: 10px 20px;
      }
      ul {
        list-style: none;
        padding: 0;
      }
      li {
        background: #fff;
        margin: 5px 0;
        padding: 10px;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <h1>📝 مفكرة خَمسة</h1>
    <textarea id="noteInput" placeholder="اكتب ملاحظتك هنا..."></textarea>
    <button onclick="submitNote()">إرسال</button>
    <h2>📋 الملاحظات:</h2>
    <ul id="notesList"></ul>

    <script>
      const API_URL =
        "https://replit.com/@ahmedkhadr0025/khamsa-notes-api/notes";

      async function submitNote() {
        const note = document.getElementById("noteInput").value;
        if (!note) return;
        await fetch(API_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ note }),
        });
        document.getElementById("noteInput").value = "";
        loadNotes();
      }

      async function loadNotes() {
        const res = await fetch(API_URL);
        const data = await res.json();
        const list = document.getElementById("notesList");
        list.innerHTML = "";
        data.forEach((n) => {
          const li = document.createElement("li");
          li.textContent = n;
          list.appendChild(li);
        });
      }

      loadNotes();
    </script>
  </body>
</html>
